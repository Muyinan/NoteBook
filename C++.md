#### 一、关于C++内存地址与指针

1. 输出指针的内容(即所指向的内容的地址)时需要先将指针转为`void*`型，才能`cout`打印

2. 两指针可以相减得到指针内存地址的差值，但是在这之前得先转换成同类型的指针，比如：

   ```C++
   char carr[5]{'a', 'b', 'c', 'd', 'e'};
   int iarr[5]{ 1,2,3,4,5 };
   
   // 先同时转换为char*类型再进行减法，由于char占一个字节，所以结果是4
   cout << (char*)(carr + 4) - (char*)carr << endl; -->		4
   
   // 也可以转换成别的指针类型，如下转为int*后结果变为1
   cout << (int*)(carr + 4) - (int*)carr << endl; 	 -->		1
   ```
   
   - 假设转换的类型为`T*`，那么`(T*)pa - (T*)pb`的结果为`pb`与`pa`指针所指向的内存地址之间所能存储的`T`的个数(***向下取整***)。
   - 不同数组指针之间进行这个操作没有太大意义，比如在上述代码之后执行`cout << (int*)iarr - (int*)arr << endl;`，用会得到结果x86跑会得到结果-7，x64则会得到9，与平台的内存管理有关。
   - 该技巧在鸿图协议发送二进制数据里有涉及，鸿图用base和high两个指针指向二进制数据的头和尾，使用`memcpy`等内存函数来修改二进制协议长度。